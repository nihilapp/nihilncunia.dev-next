# 라우트 구상

## 페이지 라우트 (App Router)

### (common) - 공통 라우트 그룹

사용자들이 접근하는 공개 페이지들

#### 홈페이지

- `/`: 메인 페이지 (최신 포스트, 인기 포스트, 카테고리/시리즈 미리보기) ✅

#### 검색

- `/search`: 검색 페이지 (포스트 제목/내용/태그 검색, 검색 결과 필터링, 검색 히스토리) ✅

#### 카테고리

- `/categories`: 카테고리 목록 (카테고리별 포스트 수) ✅
- `/categories/[id]`: 카테고리별 포스트 목록 (카테고리 정보 + 포스트 목록) ✅

#### 태그

- `/tags`: 태그 목록 (태그 클라우드) ✅
- `/tags/[id]`: 태그별 포스트 목록 (태그 정보 + 포스트 목록) ✅

#### 아카이브

- `/archive`: 아카이브 목록 (연월별 포스트 통계) ✅
- `/archive/[id]`: 연월별 포스트 목록 (연월 정보 + 포스트 목록) ✅

#### 시리즈

- `/series`: 시리즈 목록 ✅
- `/series/[id]`: 시리즈 상세 (시리즈별 포스트 목록) ✅
- `/series/[id]/[post_id]`: 시리즈 내 포스트 ✅

#### 포스트

- `/posts`: 포스트 목록 ✅
- `/posts/[id]`: 포스트 상세 (이전/다음 포스트 네비게이션, 댓글 시스템, 관련 포스트) ✅

#### 게스트북

- `/guestbook`: 게스트북 목록 (방문자 메시지, 관리자 답글)
- `/guestbook/write`: 게스트북 작성 (방문자용)

### (auth) - 인증 라우트 그룹

로그인/회원가입 등 인증 관련 페이지들

#### 인증

- `/auth/signin`: 로그인 페이지 (이메일/비밀번호 로그인, 소셜 로그인, 로그인 상태 유지) ✅
- `/auth/signup`: 회원가입 페이지 (이메일/비밀번호 회원가입, 이메일 인증) ✅
- `/auth/forgot-password`: 비밀번호 찾기 (이메일로 비밀번호 재설정 링크 발송) ✅
- `/auth/new-password`: 새 비밀번호 설정 (비밀번호 재설정 링크로 접근) ✅
- `/auth/verify-email`: 이메일 인증 (회원가입 후 이메일 인증) ✅
- `/auth/reset-password`: 비밀번호 재설정 (관리자 페이지에서 접근) ✅

#### 관리자 인증

- `/auth/admin/signup`: 관리자 회원가입 (2단계 인증: 이메일 + 인증코드) ✅

### (admin) - 관리자 라우트 그룹

관리자만 접근 가능한 관리 페이지들

#### 대시보드

- `/admin`: 관리자 대시보드 (최근 포스트, 댓글 통계, 방문자 통계, 빠른 액션) ✅

#### 프로필 관리

- `/admin/profile`: 프로필 관리 (기본 정보 수정) ✅
- `/admin/profile/reset-password`: 비밀번호 재설정 ✅
- `/admin/profile/social`: 소셜 링크 관리 ✅

#### 포스트 관리

- `/admin/posts`: 포스트 목록 ✅
- `/admin/posts/new`: 포스트 작성 ✅
- `/admin/posts/[id]`: 포스트 상세 ✅
- `/admin/posts/[id]/edit`: 포스트 수정 ✅

#### 카테고리 관리

- `/admin/categories`: 카테고리 목록 ✅
- `/admin/categories/new`: 카테고리 생성 ✅
- `/admin/categories/[id]`: 카테고리 상세 ✅
- `/admin/categories/[id]/edit`: 카테고리 수정 ✅

#### 태그 관리

- `/admin/tags`: 태그 목록 (태그별 포스트 수) ✅
- `/admin/tags/[id]`: 태그 상세 ✅

#### 시리즈 관리

- `/admin/series`: 시리즈 목록 ✅
- `/admin/series/create`: 시리즈 생성 ✅
- `/admin/series/[id]`: 시리즈 상세 ✅
- `/admin/series/[id]/edit`: 시리즈 수정 ✅

#### 댓글 관리

- `/admin/comments`: 댓글 목록(필터를 통해 승인 대기 댓글 확인 가능) ✅
- `/admin/comments/[id]`: 댓글 상세 ✅

#### 게스트북 관리

- `/admin/guestbook`: 게스트북 목록 (방문자 메시지 관리, 답글 작성)
- `/admin/guestbook/[id]`: 게스트북 상세 (메시지 내용, 답글 관리)

#### 설정 관리

- `/admin/settings`: 사이트 설정 (사이트 정보, SEO 설정, 소셜 링크 등) ✅

#### 휴지통

- `/admin/trash`: 휴지통 (삭제된 항목 목록, 항목 복구, 영구 삭제) ✅
- `/admin/trash/posts`: 삭제된 포스트 ✅
- `/admin/trash/comments`: 삭제된 댓글 ✅
- `/admin/trash/series`: 삭제된 시리즈 ✅

## API 라우트

### 인증 API

- `POST /api/auth/signin`: 로그인 ✅
- `POST /api/auth/signup`: 회원가입 ✅
- `POST /api/auth/signout`: 로그아웃 ✅
- `POST /api/auth/verify-email`: 이메일 인증 ✅
- `POST /api/auth/reset-password`: 비밀번호 재설정 ✅
- `GET /api/auth/session`: 세션 조회 ✅
- `POST /api/auth/otp`: OTP 발급 ✅
- `POST /api/auth/otp/verify`: OTP 인증 ✅

#### 관리자 인증 API

- `POST /api/auth/admin/signup`: 관리자 회원가입 (2단계 인증) ✅

### 사용자 API (개인 블로그용)

- `POST /api/users`: 사용자 계정 생성 (초기 설정용) ✅
- `GET /api/users/[id]`: 사용자 프로필 조회 ✅
- `PATCH /api/users/[id]`: 사용자 프로필 수정 ✅
- `PATCH /api/users/[id]/password`: 비밀번호 재설정 ✅

### 포스트 API

- `GET /api/posts`: 포스트 목록 ✅
- `POST /api/posts`: 포스트 생성 ✅
- `GET /api/posts/[id]`: 포스트 상세 ✅
- `PATCH /api/posts/[id]`: 포스트 수정 & 포스트 게시 ✅
- `DELETE /api/posts/[id]`: 포스트 삭제 ✅
- `GET /api/posts/search`: 포스트 검색 ✅
- `GET /api/posts/archive`: 아카이브 조회 ✅
- `GET /api/posts/category/[id]`: 카테고리별 포스트 ✅
- `GET /api/posts/tag/[id]`: 태그별 포스트 ✅
- `GET /api/posts/user/[id]`: 사용자별 포스트 ✅

### 카테고리 API

- `GET /api/categories`: 카테고리 목록 ✅
- `POST /api/categories`: 카테고리 생성 ✅
- `PATCH /api/categories/[id]`: 카테고리 수정 ✅
- `DELETE /api/categories/[id]`: 카테고리 삭제 ✅

### 태그 API

- `GET /api/tags`: 태그 목록 ✅
- `POST /api/tags`: 태그 생성 ✅
- `DELETE /api/tags/[id]`: 태그 삭제 ✅

### 시리즈 API

- `GET /api/series`: 시리즈 목록 ✅
- `POST /api/series`: 시리즈 생성 ✅
- `PATCH /api/series/[id]`: 시리즈 수정 ✅
- `DELETE /api/series/[id]`: 시리즈 삭제 ✅
- `GET /api/series/[id]/posts`: 시리즈별 포스트 ✅

### 댓글 API

- `GET /api/comments`: 댓글 목록 ✅
- `GET /api/comments?status=[pending|approved|rejected]`: 상태별 댓글 목록 (search param으로 필터링) ✅
- `POST /api/comments`: 댓글 작성 ✅
- `PATCH /api/comments/[id]`: 댓글 수정 & 댓글 승인 ✅
- `DELETE /api/comments/[id]`: 댓글 삭제 ✅
- `GET /api/comments/[id]/replies`: 댓글 답글 목록 ✅
- `POST /api/comments/[id]/replies`: 댓글 답글 작성 ✅
- `GET /api/comments/search`: 댓글 검색 ✅
- `GET /api/comments/post/[id]`: 포스트별 댓글 ✅

### 게스트북 API

- `GET /api/guestbook`: 게스트북 목록 (승인된 메시지들)
- `POST /api/guestbook`: 게스트북 작성 (방문자용)
- `GET /api/guestbook/[id]`: 게스트북 상세
- `PATCH /api/guestbook/[id]`: 게스트북 수정 (비밀번호 확인)
- `DELETE /api/guestbook/[id]`: 게스트북 삭제 (비밀번호 확인)

#### 게스트북 관리 API

- `GET /api/admin/guestbook`: 관리자용 게스트북 목록 (모든 상태)
- `PATCH /api/admin/guestbook/[id]`: 게스트북 상태 변경 (승인/거부)
- `DELETE /api/admin/guestbook/[id]`: 게스트북 삭제

#### 게스트북 답글 API

- `GET /api/guestbook/[id]/replies`: 게스트북 답글 목록
- `POST /api/admin/guestbook/[id]/replies`: 관리자 답글 작성
- `PATCH /api/admin/guestbook/[id]/replies/[reply_id]`: 답글 수정
- `DELETE /api/admin/guestbook/[id]/replies/[reply_id]`: 답글 삭제

### 파일 업로드 API

- `POST /api/upload`: 이미지 업로드 ✅

## 개인 블로그 최적화 사항

### 제거된 기능들

- **사용자 검색**: 개인 블로그에서는 불필요
- **이메일로 사용자 조회**: 개인 블로그에서는 불필요
- **사용자 목록 조회**: 개인 블로그에서는 불필요
- **사용자 삭제**: 개인 계정 삭제는 위험하므로 제거

### 유지된 기능들

- **계정 생성**: 초기 설정용
- **프로필 조회/수정**: 개인 정보 관리용
- **비밀번호 재설정**: 보안을 위해 필요

### 새로 추가된 기능들

- **게스트북 시스템**: 방문자와의 소통 채널
- **관리자 2단계 인증**: 보안 강화
- **활동 추적 시스템**: 사용자 행동 분석

## 누락된 라우트 분석

분석 결과, 현재 계획된 모든 페이지 및 API 라우트가 구현된 것으로 확인됩니다.

## 구현 완료도 요약

### 페이지 라우트 완료도

- **(common) 그룹**: 100% 완료 ✅
- **(auth) 그룹**: 100% 완료 ✅
- **(admin) 그룹**: 100% 완료 ✅

### API 라우트 완료도

- **인증 API**: 100% 완료 ✅
- **사용자 API**: 100% 완료 ✅ (개인 블로그용으로 최적화)
- **포스트 API**: 100% 완료 ✅
- **카테고리 API**: 100% 완료 ✅
- **태그 API**: 100% 완료 ✅
- **시리즈 API**: 100% 완료 ✅
- **댓글 API**: 100% 완료 ✅
- **게스트북 API**: 0% 완료 (새로 추가 필요)
- **파일 업로드 API**: 100% 완료 ✅

### 전체 완료도: 95%

**새로 추가된 게스트북 시스템으로 인해 전체 완료도가 95%로 조정되었습니다.**
